"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1709],{8570:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var o=n(79);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,f=u["".concat(s,".").concat(m)]||u[m]||d[m]||a;return n?o.createElement(f,i(i({ref:t},p),{},{components:n})):o.createElement(f,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<a;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},482:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var o=n(7626),r=(n(79),n(8570));const a={sidebar_position:8},i="Exporting and importing data",l={unversionedId:"local-storage/export",id:"local-storage/export",title:"Exporting and importing data",description:"Verdant clients can export all local data, and even download remote files if needed to include in the export.",source:"@site/docs/local-storage/export.md",sourceDirName:"local-storage",slug:"/local-storage/export",permalink:"/docs/local-storage/export",draft:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"File storage",permalink:"/docs/local-storage/files"},next:{title:"Sync",permalink:"/docs/category/sync"}},s={},c=[{value:"Uses of exporting data",id:"uses-of-exporting-data",level:2},{value:"Limitations of exporting data",id:"limitations-of-exporting-data",level:2}],p={toc:c};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"exporting-and-importing-data"},"Exporting and importing data"),(0,r.kt)("p",null,"Verdant clients can export all local data, and even download remote files if needed to include in the export."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const exportedData = await client.export({ downloadRemoteFiles: true });\n")),(0,r.kt)("p",null,"This exported data includes all document data, even change history. It also includes metadata about files, and the files themselves (as a list of ",(0,r.kt)("inlineCode",{parentName:"p"},"File"),"s)."),(0,r.kt)("p",null,"This means a client importing this dataset should behave identically to the client which exported it. The only caveat is that importing doesn't take on the original client's ",(0,r.kt)("em",{parentName:"p"},"sync identity"),"."),(0,r.kt)("h2",{id:"uses-of-exporting-data"},"Uses of exporting data"),(0,r.kt)("p",null,"Since local-first apps are tied to a domain for their local storage, exporting can allow you to transfer data if your app moves to a new domain. It's not an ideal method, though, as the UX is pretty clunky. I don't recommend moving domains if you can help it."),(0,r.kt)("p",null,"That said, if your users are using sync, you don't need to do this - you can instead use the sync server to transfer data by moving users' sync endpoint over to the new server before completing the domain migration, or by copying your sync database to the new server directly (which is safer)."),(0,r.kt)("h2",{id:"limitations-of-exporting-data"},"Limitations of exporting data"),(0,r.kt)("p",null,"At the time of writing, exported data can only be imported again if the client's schema matches the schema of the export exactly. That means you can't import data from old versions."),(0,r.kt)("p",null,'This is a significant limitation which basically removes this data export as a reliable "backup" option for users. It relegates it to temporary operations, like transferring between domains, or simple data "take-away" for users who want to, say, download all their files.'),(0,r.kt)("p",null,"It's theoretically possible for me to support older versions, but I'm launching this as-is for now."))}d.isMDXComponent=!0}}]);